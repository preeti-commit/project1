
{% block body %}
<style>
body {
  background: #76b852;
  background: -webkit-linear-gradient(to top, #76b852, #8DC26F);
  background: -moz-linear-gradient(to top, #76b852, #8DC26F);
  background: -o-linear-gradient(to top, #76b852, #8DC26F);
  background: linear-gradient(to top, #76b852, #8DC26F);
  background-size: cover;
  background-attachment: fixed;
  font-family: 'Roboto', sans-serif;
}

h1 {
  font-size: 3em;
  text-align: center;
  color: #fff;
  font-weight: 100;
  text-transform: capitalize;
  letter-spacing: 4px;
  font-family: 'Roboto', sans-serif;
}

.main-agileinfo {
  width: 35%;
  margin: 3em auto;
  background: rgba(0, 0, 0, 0.18);
  background-size: cover;
}

.agileits-top {
  padding: 3em;
}

input[type="text"], input[type="name"] ,input[type="city"], input[type="state"], input[type="address"] {
  font-size: 0.9em;
  color: #fff;
  font-weight: 100;
  width: 94.5%;
  display: block;
  border: none;
  padding: 0.8em;
  border: solid 1px rgba(255, 255, 255, 0.37);
  transition: all 0.3s cubic-bezier(0.64, 0.09, 0.08, 1);
  background: -webkit-linear-gradient(top, rgba(255, 255, 255, 0) 96%, #fff 4%);
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 96%, #fff 4%);
  background-position: -800px 0;
  background-size: 100%;
  background-repeat: no-repeat;
  color: #fff;
  font-family: 'Roboto', sans-serif;
}

input[type="submit"] {
  font-size: .9em;
  color: #fff;
  background: #76b852;
  outline: none;
  border: 1px solid #76b852;
  cursor: pointer;
  padding: 0.9em;
  -webkit-appearance: none;
  width: 100%;
  margin: 2em 0;
  letter-spacing: 4px;
}


</style>
<!-- <h2 style="color:green;font-size:400%;">User Location Set! <span class="icon-emo-happy"></span></h2>-->

<form method = "POST" action="{% url 'insert'%}">

		<h1>User Location Set!</h1>
		<div class="main-agileinfo">
			<div class="agileits-top">
    {% csrf_token %}
<!--    <div class="cool-md-2">-->
<!--        <a href="/location">Location</a>-->
<!--    </div>-->

    <div class="col-md-8">
    </div>
        <div class="from-group">
            <label for="Name">Name</label>
            <input type="text" name="name" class="form-control" required="required"/>
        </div>

        <div class="from-group">
            <label for="Address">Address</label>
            <input type="text" name="address" class="form-control" required="required"/>
        </div>

         <div class="from-group">
            <label for="City">City</label>
            <input type="text" name="city" class="form-control" required="required"/>
        </div>

        <div class="from-group">
            <label for="State">State</label>
            <input type="text" name="state" class="form-control" required="required"/>

        </div>

<script>
    var watchID;
    function showPosition() {
        if(navigator.geolocation) {
            watchID = navigator.geolocation.watchPosition(successCallback);
        } else {
            alert("Sorry, your browser does not support HTML5 geolocation.");
        }
    }
    function successCallback(position) {
        toggleWatchBtn.innerHTML = "Stop Location";
        if(prevLat != position.coords.latitude || prevLong != position.coords.longitude){
            var prevLat = position.coords.latitude;
            var prevLong = position.coords.longitude;
            var positionInfo = "Your current position is (" + "Latitude: " + position.coords.latitude + ", " + "Longitude: " + position.coords.longitude + ")";
            document.getElementById("result").innerHTML = positionInfo;
            document.getElementById("idlatitude").value = position.coords.latitude;
            document.getElementById("idlongitude").value = position.coords.longitude ;
        }
    }
    function startWatch() {
        var result = document.getElementById("result");

        var toggleWatchBtn = document.getElementById("toggleWatchBtn");

        toggleWatchBtn.onclick = function() {
            if(watchID) {
                toggleWatchBtn.innerHTML = "Start Watching";
                navigator.geolocation.clearWatch(watchID);
                watchID = false;
            } else {
                toggleWatchBtn.innerHTML = "Aquiring Geo Location...";
                showPosition();
            }
        }
    }
    window.onload = startWatch;
</script>
    <button type="button" id="toggleWatchBtn">Locaion</button>
    <div id="result">
         </div>
        <input type="hidden" id="idlatitude" name="latitude"> </input>
      <input type="hidden" id="idlongitude" name="longitude"> </input>
     <div class="clearfix">
                <input type="submit" class="signupbtn" value="Submit"/>
    </div>

</form>
{% endblock %}